#File Systems<!-- START doctoc generated TOC please keep comment here to allow auto update --><!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->**Table of Contents**- [Overview](#overview)- [Local File System](#local-file-system)- [Dropbox File System](#dropbox-file-system)<!-- END doctoc generated TOC please keep comment here to allow auto update -->## OverviewFile systems abstraction allows you to access transparently different type of storages, either it is local file, AWS S3, or DropBox. The file system type is specified via URL in scheme place, i.e. to specify local file use `file://` on scheme place and then path to the file like `/my/directory/file.txt`, so the URL of the file would look like `file:///my/directory/file.txt`.By default only [local file](#local-file-system) is accessible but you can always add more. Currently you would need to register file system driver yourself if it's different from local file system. To do that call appropriate method on `io.wavebeans.fs.core.WbFileDriver` object:```kotlin// register driver, you can only do that once for specific schemeWbFileDriver.registerDriver("myscheme", MyDriverImplementation())// unregister driver, so you can register another one if you needWbFileDriver.unregisterDriver("myscheme")``` Driver implements the `io.wavebeans.fs.core.WbFileDriver` interface.Usually you won't need to access file system directly, you would always use methods responsible to call the file system themselves, i.e. `wav("file:///my/directory/file.wav")`. But here some tips if you ever need to:```kotlin// instantiate the driver of certain typeval fileDriver = WbFileDriver.instance("file")// create a temporary file, it'll generate random filler to make sure the file is newval temporaryFile = fileDriver.createTemporaryWbFile("temp", "txt")// create a file pointer by URIval file = fileDriver.createWbFile(URI("file:///my/directory/file.txt"))// shortcut to create the file pointer of certain scheme/*val file = */WbFileDriver.createFile(URI("file:///my/directory/file.txt"))// check if file existsfile.exists()// delete filefile.delete()// create output stream to write file contentfile.createWbFileOutputStream()// create input stream to read file contentfile.createWbFileInputStream()```Overall follow code-level API documentation.## Local File SystemLocal File System is supported by default and you don't need to do something special in order to use it. Just be aware, that in [distributed mode](../exe/readme.md#distributed-mode) it won't work as expected.To use the local file system, specify the `file` scheme in the URI. Also you need to be aware that only absolute path is supported at this moment, so every time you need to specify the path from the root. It might be handy to use `java.io.File` and resolve the absolute path using its API:```kotlinval inputFile = File("input.wav")val input = wave("file://${inputFile.absolutePath}")```## Dropbox File SystemDropBox File System allows work with files in your DropBox folder. It's a little tricky to configure and requires a little more effort, but overall quite handy.To start working with your DropBox account you'll need to go to its Developer console and create the key:1. Go to Dropbox App Console: [https://www.dropbox.com/developers/apps](https://www.dropbox.com/developers/apps)2. Click "Create app" button.3. Choose an API: "Dropbox API".4. Choose the type of access: "Full Dropbox" or "App folder". Doesn't matter. Though the second option is a little safer overall.5. Name your app, remember the name you've given. Later on it'll be used as "Client Identifier".6. Hit "Create app" button.7. On "Settings" tab generate a new "Access token" and copy it. You'll need it later.Dropbox filesystem distributed as a separate library, so add it as a dependency, i.e. for gradle:```groovyimplementation "io.wavebeans.filesystems:dropbox:$wavebeans_version"```Then you need to configure the driver. It'll automatically reigster itself under `dropbox` scheme:```kotlinDropboxWbFileDriver.configure(        "Client identifier",        "Access Token")```After that action you may start using files via `dropbox` scheme:```kotlinval input = wave("dropbox:///folder/input.wav")```If you want to register the driver yourself, for instance under different name, or use a few drivers at a time, you may just instantiate the object of class `io.wavebeans.fs.dropbox.DropboxWbFileDriver` and register it via call to `WbFileDriver.registerDriver()`.